(window.webpackJsonp=window.webpackJsonp||[]).push([[148],{469:function(a,t,s){"use strict";s.r(t);var n=s(1),r=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"audio"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#audio","aria-hidden":"true"}},[a._v("#")]),a._v(" Audio")]),s("p",[a._v("播放音频。")]),s("h3",{attrs:{id:"方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#方法","aria-hidden":"true"}},[a._v("#")]),a._v(" 方法")]),s("h3",{attrs:{id:"load-options-callback"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#load-options-callback","aria-hidden":"true"}},[a._v("#")]),a._v(" load(options, callback)")]),s("p",[a._v("加载音频。前期准备工作，例如下载播放资源，但是不会播放。")]),s("h4",{attrs:{id:"参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参数","aria-hidden":"true"}},[a._v("#")]),s("strong",[a._v("参数")])]),s("p",[s("code",[a._v("options.id {String}")]),a._v(" 当前playback的id，因为支持同时播放多个，所以id必须唯一，否则会复用原id的播放资源；"),s("br"),s("code",[a._v("options.url {String}")]),a._v(" url；"),s("br"),s("code",[a._v("options.autoplay {Boolean}")]),a._v(" load完成后是否自动开始播放。从而不需要触发"),s("code",[a._v("play()")]),a._v("方法，默认值："),s("code",[a._v("false")]),a._v("；"),s("br"),s("code",[a._v("options.loop {Boolean}")]),a._v(" 循环播放，默认值：false；"),s("br"),s("code",[a._v("options.volume {String}")]),a._v(" 声音大小，默认值：1。"),s("br"),s("code",[a._v("callback {Function}")]),a._v(" 用户操作完成后的回调，回调函数的参数 "),s("code",[a._v("ret")]),a._v(" 的格式如下："),s("br"),s("code",[a._v("ret.id {String}")]),a._v(" 当前playback的id，原样返回给前端；"),s("br"),s("code",[a._v("ret.status {String}")]),a._v(" 当前播放器状态："),s("br"),a._v("\n1：INIT 初始化"),s("br"),a._v("\n2：READY 加载完成，options里面url对应的音频文件已经下载完成"),s("br"),a._v("\n3：PLAYING 播放中"),s("br"),a._v("\n4：PAUSE 暂停"),s("br"),a._v("\n5：ENDED 播放结束，loop为true的，单次播放结束不会触发ENDED的发回调"),s("br"),a._v("\n6：ERROR 错误"),s("br"),s("code",[a._v("ret.value {Object or String}")]),a._v(" 当前状态的详细信息。"),s("br"),s("span",{staticStyle:{"background-color":"#FFF9D8"}},[s("em",[a._v("注意：status=2时可以通过value.duration获取音频时长；status=6时则返回一个object，例如{code: 2, message: 'error message'}")])]),s("br"),s("code",[a._v("error code")]),a._v("说明："),s("br"),a._v("\n1：ABORTED 用户取消"),s("br"),a._v("\n2：NETWORK 网络相关"),s("br"),a._v("\n3：DECODE 解码错误"),s("br"),a._v("\n4：SRC_NOT_SUPPORTED 文件格式不支持"),s("br"),a._v("\n5：OTHER 其他错误")]),s("h4",{attrs:{id:"示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#示例","aria-hidden":"true"}},[a._v("#")]),a._v(" 示例")]),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" audio "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" weex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("requireModule")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'audio'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" option "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n\t"),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"url"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"http://flv2.bn.netease.com/videolib3/1611/01/XGqSL5981/SD/XGqSL5981-mobile.mp4"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n\t"),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"id"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1001")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\naudio"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("load")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("option"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[a._v("param")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" playerId "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" param"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\tconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[a._v("JSON")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("stringify")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("param"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),s("h3",{attrs:{id:"play-id"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#play-id","aria-hidden":"true"}},[a._v("#")]),a._v(" play(id)")]),s("p",[a._v("播放音频。")]),s("h4",{attrs:{id:"参数-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参数-2","aria-hidden":"true"}},[a._v("#")]),a._v(" 参数")]),s("p",[s("code",[a._v("id {String}")]),a._v(" load()方法的callback中返回id。")]),s("h4",{attrs:{id:"示例-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#示例-2","aria-hidden":"true"}},[a._v("#")]),a._v(" 示例")]),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" audio "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" weex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("requireModule")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'audio'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" \naudio"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("play")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),s("h3",{attrs:{id:"pause-id"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pause-id","aria-hidden":"true"}},[a._v("#")]),a._v(" pause(id)")]),s("p",[a._v("暂停播放。")]),s("h4",{attrs:{id:"参数-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参数-3","aria-hidden":"true"}},[a._v("#")]),a._v(" 参数")]),s("p",[s("code",[a._v("id {String}")]),a._v(" load()方法的callback中返回id。")]),s("h4",{attrs:{id:"示例-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#示例-3","aria-hidden":"true"}},[a._v("#")]),a._v(" 示例")]),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" audio "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" weex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("requireModule")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'audio'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\naudio"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("pause")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),s("h3",{attrs:{id:"stop-id"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#stop-id","aria-hidden":"true"}},[a._v("#")]),a._v(" stop(id)")]),s("p",[a._v("暂停播放。")]),s("h4",{attrs:{id:"参数-4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参数-4","aria-hidden":"true"}},[a._v("#")]),a._v(" 参数")]),s("p",[s("code",[a._v("id {String}")]),a._v(" load()方法的callback中返回id。")]),s("h4",{attrs:{id:"示例-4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#示例-4","aria-hidden":"true"}},[a._v("#")]),a._v(" 示例")]),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" audio "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" weex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("requireModule")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'audio'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" \naudio"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("stop")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),s("h3",{attrs:{id:"setvolume-volume"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#setvolume-volume","aria-hidden":"true"}},[a._v("#")]),a._v(" setVolume(volume)")]),s("p",[a._v("设置音量。"),s("br"),s("span",{staticStyle:{"background-color":"#FFF9D8"}},[s("em",[a._v("注意：这里仅仅是app自身的音量大小，和系统音量没关系。")])])]),s("h4",{attrs:{id:"参数-5"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参数-5","aria-hidden":"true"}},[a._v("#")]),a._v(" 参数")]),s("p",[s("code",[a._v("volume {Number}")]),a._v(" 0-1的数值，0=没声音，1=最大。")]),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" audio "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" weex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("requireModule")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'audio'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" \naudio"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("setVolume")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.8")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),s("h3",{attrs:{id:"canplaytype-mediatype"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#canplaytype-mediatype","aria-hidden":"true"}},[a._v("#")]),a._v(" canPlayType(mediaType)")]),s("p",[a._v("当前终端能否播放该音频类型。")]),s("h4",{attrs:{id:"参数-6"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参数-6","aria-hidden":"true"}},[a._v("#")]),a._v(" 参数")]),s("p",[s("code",[a._v("mediaType {String}")]),a._v(" 可选值：audio/wav audio/x-wav audio/amr audio/mp3。")]),s("h4",{attrs:{id:"返回值"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#返回值","aria-hidden":"true"}},[a._v("#")]),a._v(" 返回值")]),s("p",[a._v("{String} 一定可以播放此类型的音频，可选值：probably（一定可以播放此类型的音频），maybe（可能可以播放此类型的音频）''（一定不能播放，例如 mediaType 为“application/octet-stream”）。")]),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" audio "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" weex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("requireModule")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'audio'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" result "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" audio"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("canPlayType")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'audio/mp3'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("resule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])])])}],!1,null,null,null);t.default=r.exports}}]);