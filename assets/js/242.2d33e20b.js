(window.webpackJsonp=window.webpackJsonp||[]).push([[242],{362:function(t,a,s){"use strict";s.r(a);var e=s(1),n=Object(e.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[t._m(0),s("p",[t._v("本文将介绍 Weex 适配不同尺寸屏幕的方法以及横竖屏动态切换时如何自适应。")]),t._m(1),s("p",[t._v("以 iOS 为例，在应用启动时，Weex 获取当前屏幕宽度作为全局默认值。在 iOS 系统上该宽度为实际像素/屏幕比例后的 UIKit 宽度。比如 iPhone6 为 375。")]),t._m(2),s("p",[t._v("创建的每个 WXSDKInstance，其默认的 viewPortWidth 为 750px。")]),t._m(3),s("p",[t._v('当指定 CSS 样式值为 "375px" 时，Weex 在接收到该样式后，自动根据当前屏幕宽度和当前 Instance 的 viewPortWidth 计算出在 iOS 系统上，对应的 UIKit 坐标值为：')]),t._m(4),s("p",[t._v("代入后：\ndimension(UIKit) = 375 / 750 * 375 = 187.5")]),s("p",[t._v("之后 Weex 排版引擎使用 187.5 来排版，并最终将排版后的结果设置给 iOS UIView。之后没有坐标转换过程了。")]),t._m(5),s("p",[t._v("如上文所述，Weex 最终将原始样式值转换为平台 UI 系统的坐标值，之后原始样式值被丢弃。这个有一定历史原因，且当页面非常大或复杂时，丢弃后可以节省很多内存，因此原始样式值被丢弃。")]),s("p",[t._v("同时，目前 Weex 不支持百分比布局，大量竖屏页面使用 750px 的 viewPortWidth 值为基准进行开发，页面里的坐标值都是根据 750px 为一个屏幕宽度换算后的值。")]),s("p",[t._v('当屏幕发生旋转后，比如 iPhone6 手机，旋转后的 “宽 * 高” 为 “667 * 375”。此时我们需要原始的样式值来重新计算出设置给排版引擎的坐标值，如前文所说，排版引擎接收的是 iOS UIKit 的坐标值。这个时候对于仍然为 "375px" 的样式，其计算出的 UIKit 坐标值为：')]),s("p",[t._v("dimension(UIKit) = 375 / 750 * 667 = 333.5")]),s("p",[t._v("仍然为宽屏下的屏幕宽度一半。")]),s("p",[t._v("但是因为原始样式值被丢弃，我们不能支持横竖屏切换。")]),t._m(6),s("p",[t._v("我们通过添加一系列接口让 Weex 使用者可以控制排版参数。")]),t._m(7),t._m(8),t._m(9),t._m(10),t._m(11),t._m(12),s("Badge",{attrs:{text:"v0.25+",type:"warning"}}),t._m(13),t._m(14),t._m(15),t._m(16),t._m(17),t._m(18),t._m(19),s("Badge",{attrs:{text:"v0.25+",type:"warning"}}),t._m(20),t._m(21),t._m(22),t._m(23),t._m(24),s("Badge",{attrs:{text:"v0.25+",type:"warning"}}),t._m(25),t._m(26),t._m(27),s("p",[t._v("如果应用不支持屏幕旋转，你可以不用关心以上问题。当 Weex 启动时，会自动获取当前屏幕宽度作为全局宽度，所有之后创建的 Weex 页面都会使用该宽度。")]),t._m(28),s("Badge",{attrs:{text:"v0.25+",type:"warning"}}),s("p",[t._v("1、设置页面保留原始 CSS 样式值\n2、当屏幕旋转完成后，调用以下接口设置新的屏幕尺寸，并重新排版")]),t._m(29),s("p",[t._v("你可以使用最新 Playground 扫码"),s("a",{attrs:{href:"http://editor.weex.io/p/wqyfavor/scroller/commit/37810078ef963388b699b5ad7d5e9881",target:"_blank",rel:"noopener noreferrer"}},[t._v("示例"),s("OutboundLink")],1),t._v("\n要在控制面板里允许屏幕自动旋转。")]),s("p",[s("a",{attrs:{href:"https://img.alicdn.com/tfs/TB1gWiTcvWG3KVjSZPcXXbkbXXa-240-427.gif",target:"_blank",rel:"noopener noreferrer"}},[t._v("image"),s("OutboundLink")],1)]),t._m(30),s("p",[t._v("对于不希望受屏幕宽度和 viewPortWidth 影响的尺寸，请使用 'wx' 单位。")])],1)},[function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#简介","aria-hidden":"true"}},[this._v("#")]),this._v(" 简介")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"weex-如何将前端样式值转换为系统坐标值"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#weex-如何将前端样式值转换为系统坐标值","aria-hidden":"true"}},[this._v("#")]),this._v(" Weex 如何将前端样式值转换为系统坐标值")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("@implementation WXCoreBridge\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("install\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" dispatch_once_t onceToken"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatch_once")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("onceToken"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        WeexCore"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("WXCoreEnvironment"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" env "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" WeexCore"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("WXCoreEnvironment"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getInstance")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        env"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("SetPlatform")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("OS_iOS"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        env"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("AddOption")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"scale"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        \n        CGSize screenSize "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("UIScreen mainScreen"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bounds"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("size"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        env"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("SetDeviceWidth")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("std"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("to_string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("screenSize"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("width"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        env"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("SetDeviceHeight")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("std"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("to_string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("screenSize"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("height"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// The default screen width which helps us to calculate the real size or scale in different devices.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" CGFloat WXDefaultScreenWidth "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("750.0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dimension")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("UIKit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dimensionPx")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("CSS"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("viewPortWidth")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("instance"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" globalScreenWidth\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"为什么-weex-页面不支持横竖屏切换"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为什么-weex-页面不支持横竖屏切换","aria-hidden":"true"}},[this._v("#")]),this._v(" 为什么 Weex 页面不支持横竖屏切换")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"屏幕参数接口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#屏幕参数接口","aria-hidden":"true"}},[this._v("#")]),this._v(" 屏幕参数接口")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"一、设置页面使用的-viewportwidth"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、设置页面使用的-viewportwidth","aria-hidden":"true"}},[this._v("#")]),this._v(" 一、设置页面使用的 viewPortWidth")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h4",{attrs:{id:"_1-使用-meta-module"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-使用-meta-module","aria-hidden":"true"}},[this._v("#")]),this._v(" 1. 使用 Meta Module")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-Javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" meta "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" weex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("requireModule")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'meta'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmeta"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setViewport")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\twidth"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("800")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h4",{attrs:{id:"_2-使用-wxsdkinstance-的接口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-使用-wxsdkinstance-的接口","aria-hidden":"true"}},[this._v("#")]),this._v(" 2. 使用 WXSDKInstance 的接口")])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-Objective-C extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[this._v("WXSDKInstance* instance = [[WXSDKInstance alloc] init];\n[instance setViewportWidth:800.f];\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"二、设置页面使用的-devicewidth"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、设置页面使用的-devicewidth","aria-hidden":"true"}},[this._v("#")]),this._v(" 二、设置页面使用的 deviceWidth")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h4",{attrs:{id:"_1-使用-meta-module-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-使用-meta-module-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 1. 使用 Meta Module")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-Javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" meta "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" weex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("requireModule")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'meta'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmeta"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setViewport")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tdeviceWidth"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("375")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\tdeviceHeight"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("800")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h4",{attrs:{id:"_2-使用-wxsdkinstance-的接口-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-使用-wxsdkinstance-的接口-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 2. 使用 WXSDKInstance 的接口")])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-Objective-C extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[this._v("WXSDKInstance* instance = [[WXSDKInstance alloc] init];\n[instance setPageRequiredWidth:375.f height:800.f];\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h4",{attrs:{id:"_3-设置全局的-devicewidth"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-设置全局的-devicewidth","aria-hidden":"true"}},[this._v("#")]),this._v(" 3. 设置全局的 deviceWidth")])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-Objective-C extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[this._v("[WXSDKEngine setGlobalDeviceSize:CGSizeMake([UIScreen mainScreen].bounds.size.width, [UIScreen mainScreen].bounds.size.height)];\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"三、设置页面保留原始-css-样式值"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、设置页面保留原始-css-样式值","aria-hidden":"true"}},[this._v("#")]),this._v(" 三、设置页面保留原始 CSS 样式值")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h4",{attrs:{id:"_1-使用-meta-module-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-使用-meta-module-3","aria-hidden":"true"}},[this._v("#")]),this._v(" 1. 使用 Meta Module")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-Javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" meta "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" weex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("requireModule")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'meta'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmeta"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setViewport")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\treserveCssStyles"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h4",{attrs:{id:"_2-使用-wxsdkinstance-的接口-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-使用-wxsdkinstance-的接口-3","aria-hidden":"true"}},[this._v("#")]),this._v(" 2. 使用 WXSDKInstance 的接口")])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-Objective-C extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[this._v("WXSDKInstance* instance = [[WXSDKInstance alloc] init];\n[instance setPageKeepRawCssStyles];\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"四、强制页面重新排版"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、强制页面重新排版","aria-hidden":"true"}},[this._v("#")]),this._v(" 四、强制页面重新排版")])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-Objective-C extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[this._v("[instance reloadLayout];\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"使用场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用场景","aria-hidden":"true"}},[this._v("#")]),this._v(" 使用场景")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"一、不可旋转屏幕的应用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、不可旋转屏幕的应用","aria-hidden":"true"}},[this._v("#")]),this._v(" 一、不可旋转屏幕的应用")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"二、某个特殊页面支持横竖屏切换"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、某个特殊页面支持横竖屏切换","aria-hidden":"true"}},[this._v("#")]),this._v(" 二、某个特殊页面支持横竖屏切换")])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-Objective-C extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[this._v("CGFloat w = [UIScreen mainScreen].bounds.size.width;\nCGFloat h = [UIScreen mainScreen].bounds.size.height;\n[_instance setPageRequiredWidth:w height:h];\n[_instance reloadLayout];\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"三、注意"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、注意","aria-hidden":"true"}},[this._v("#")]),this._v(" 三、注意")])}],!1,null,null,null);a.default=n.exports}}]);